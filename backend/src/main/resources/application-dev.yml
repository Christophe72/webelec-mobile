spring:
  datasource:
    driver-class-name: org.postgresql.Driver
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/webelec}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:postgres}
    hikari:
      schema: public
      connection-init-sql: SET search_path TO public  # force schema to avoid "aucun schéma" at startup

  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: update   # OK en dev uniquement
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        default_schema: public

  flyway:
    enabled: false   # correct en dev si tu assumes Hibernate
    schemas: public

  # Désactive l'arrêt automatique en dev
  application:
    admin:
      enabled: false

  # Désactive DevTools (restart automatique et livereload)
  devtools:
    restart:
      enabled: false
    livereload:
      enabled: false

server:
  port: 8081

# CORS dev (simple et efficace)
cors:
  allowed-origins:
    - http://localhost:3000
    - http://localhost:5173
    - http://localhost:4200

webelec:
  security:
    dev-user-email: ${WEBELEC_DEV_USER_EMAIL:admin@webelec.fr}